<main-menu class="menu-dark"></main-menu>
<div class="home-page summary">
  <progress-bar step="4" class="light white-font"></progress-bar>
  <div class="summary-mid-section">
    <div class="title">{{:: 'summary.my_summary' | translate}}</div>
    
    <div class="summary-items">
      <div class="summary-item-text">
        <strong>{{::$ctrl.user.name}}, this is your personal profile showing how you perform under pressure</strong>
        <figure>Click on the icons below to read more</figure>
        <a href="#" class="toggle-icon-descriptions" ng-click="$ctrl.toggleIconDescriptions()">{{$ctrl.iconDescriptionToggled ? "Hide all actions" : "View all actions"}}</a>
        <ul class="summary-items--list">
            <li class="summary-item" ng-repeat="(key, values) in $ctrl.estimationOfResults.FeedbackPosition" ng-if="$ctrl.gameSummaryValue[values] != '' " ng-class="{'description-visible' : $ctrl.iconDescriptionToggled }" ng-click="$ctrl.openModal(values)" data-feedback="{{values}}">
              <figure class="summary-item--icon"></figure>
              <strong>{{$ctrl.gameSummaryValue[values]|firstSentence}}</strong>
              <span>{{$ctrl.gameSummaryValue[values]|restSentence}}</span>
            </li>
        </ul>
        <div class="summary-items--modal-container">
          <div ng-repeat="(key, values) in  $ctrl.estimationOfResults.FeedbackPosition" ng-if="$ctrl.gameSummaryValue[values] != '' " class="summary-items--modal" ng-class="{'visible' : $ctrl.openedModal == values }" data-feedback="{{values}}">
            <div class="summary-items--modal_inner">
              <span class="summary-items--modal_close" ng-click="$ctrl.closeModal()"></span>
              <figure class="summary-item--icon"></figure>
              <strong>{{$ctrl.gameSummaryValue[values]|firstSentence}}</strong>
              <span>{{$ctrl.gameSummaryValue[values]|restSentence}}</span>
            </div>
          </div>
        </div>
        <a href="#" class="toggle-icon-descriptions" ng-click="$ctrl.toggleIconDescriptions()">{{$ctrl.iconDescriptionToggled ? "Hide all actions" : "View all actions"}}</a>
      </div>
    </div>
    <div ng-if="$ctrl.user.admin">
        <input placeholder="slowStarter" ng-model="$ctrl.testSummary.slowStarter" ></input>
        <input placeholder="impulsivity" ng-model="$ctrl.testSummary.impulsivity"></input>
        <input placeholder="panic" ng-model="$ctrl.testSummary.panic"></input>
        <input placeholder="negativeThinking" ng-model="$ctrl.testSummary.negativeThinking"></input>
        <input placeholder="lowConfidence" ng-model="$ctrl.testSummary.lowConfidence"></input>
        <input placeholder="perfectionism" ng-model="$ctrl.testSummary.perfectionism"></input>
        <input placeholder="badTimeManagement" ng-model="$ctrl.testSummary.badTimeManagement"></input>
        <input placeholder="frustration" ng-model="$ctrl.testSummary.frustration"></input>
        <input placeholder="concentration" ng-model="$ctrl.testSummary.concentration"></input>
        </br>
        <button ng-click="$ctrl.setTestParams()">set params</button>
    </div>
    <div class="sub-title" ng-if="!($ctrl.userSum.physical < 10 && $ctrl.userSum.positive < 10 && $ctrl.userSum.concentration < 10)">{{::$ctrl.user.name}}, {{:: 'summary.focus' | translate}}</div>
    <div class="sub-title jordan" ng-if="$ctrl.userSum.physical < 10 && $ctrl.userSum.positive < 6 && $ctrl.userSum.concentration < 10">{{:: 'summary.jordan' | translate}}</div>
    <required-cards></required-cards>
    <div class="button-container">
      <md-tooltip
        class="tooltip-style"
        style="padding: 0"
        md-direction="top"
        ng-if="!ctrl.enableRoutineButton"
      >
        {{::'summary.routine' | translate}}
      </md-tooltip>
      <md-button
        class="button-style routine-button"
        ng-click="ctrl.stateGo('routine')"
        ng-disabled="!ctrl.enableRoutineButton"
      >
        {{:: 'summary.my_routine' | translate}}
      </md-button>
    </div>
    <div class="optional-cards-title" ng-if="$ctrl.userSum.physical < 10 || $ctrl.userSum.positive < 10 || $ctrl.userSum.concentration < 10">{{:: 'summary.optional' | translate}}</div>
    <optional-cards></optional-cards>
    </div>
    <div class="website-maintenance"><a href="https://omnisdigitalagency.com/" target="_blank">Website maintenance</a></div>
</div>
